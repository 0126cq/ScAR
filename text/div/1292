"function buy() OnlyOpen() internal {\t\tif (msg.value < 0.000001 ether || msg.value > 1000000 ether)\t\t\trevert();\t\tvar sender = msg.sender;\t\tvar fee = <mask0>;\t\tvar numEther = msg.value - fee;\t\tvar numTokens = getTokensForEther(numEther);\t\tvar buyerFee = fee * scaleFactor;\t\tif (totalSupply > 0) {\t\t\tvar bonusCoEff =\t\t\t    (scaleFactor - (reserve() + numEther) * numTokens * scaleFactor / (totalSupply + numTokens) / numEther)\t\t\t    * (uint)(crr_d) / (uint)(crr_d-crr_n);\t\t\tvar holderReward = fee * bonusCoEff;\t\t\tbuyerFee -= holderReward;\t\t\tvar rewardPerShare = holderReward / totalSupply;\t\t\tearningsPerToken += rewardPerShare;\t\t}\t\ttotalSupply = add(totalSupply, numTokens);\t\ttokenBalance[sender] = add(tokenBalance[sender], numTokens);\t\tvar payoutDiff = (int256) ((earningsPerToken * numTokens) - buyerFee);\t\tpayouts[sender] += payoutDiff;\t\ttotalPayouts    += payoutDiff;\t}"