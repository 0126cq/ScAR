"function _getCompoundedStakeFromSnapshots(        uint initialStake,        Snapshots memory snapshots    )        internal        view        returns (uint)    {        uint snapshot_P = snapshots.P;        uint128 scaleSnapshot = snapshots.scale;        uint128 epochSnapshot = snapshots.epoch;        if (epochSnapshot < currentEpoch) { return 0; }        uint compoundedStake;        uint128 scaleDiff = currentScale.sub(scaleSnapshot);        if (scaleDiff == 0) {            compoundedStake = initialStake.mul(P).<mask0>;        } else if (scaleDiff == 1) {            compoundedStake = initialStake.mul(P).div(snapshot_P).div(SCALE_FACTOR);        } else {             compoundedStake = 0;        }        if (compoundedStake < initialStake.div(1e9)) {return 0;}        return compoundedStake;    }"