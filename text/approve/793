"function multihopBatchSwapExactIn(        Swap[][] memory swapSequences,        TokenInterface tokenIn,        TokenInterface tokenOut,        uint totalAmountIn,        uint minTotalAmountOut,        uint8 flag    )    public payable discountCHI(flag)    returns (uint totalAmountOut)    {        transferFromAll(tokenIn, totalAmountIn);        for (uint i = 0; i < swapSequences.length; i++) {            uint tokenAmountOut;            for (uint k = 0; k < swapSequences[i].length; k++) {                Swap memory swap = swapSequences[i][k];                TokenInterface SwapTokenIn = TokenInterface(swap.tokenIn);                if (k == 1) {                    swap.swapAmount = tokenAmountOut;                }                PoolInterface pool = PoolInterface(swap.pool);                if (SwapTokenIn.allowance(address(this), swap.pool) > 0) {                    SwapTokenIn.<mask0>;                }                SwapTokenIn.approve(swap.pool, swap.swapAmount);                (tokenAmountOut,) = pool.swapExactAmountIn(                    swap.tokenIn,                    swap.swapAmount,                    swap.tokenOut,                    swap.limitReturnAmount,                    swap.maxPrice                );            }            totalAmountOut = add(tokenAmountOut, totalAmountOut);        }        require(totalAmountOut >= minTotalAmountOut, \"ERR_LIMIT_OUT\");        transferAll(tokenOut, totalAmountOut);        transferAll(tokenIn, getBalance(tokenIn));    }"