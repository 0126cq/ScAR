"function getFee(uint _amount, address _user, uint _gasCost, address _tokenAddr) internal returns (uint feeAmount) {        address priceOracleAddress = ILendingPoolAddressesProvider(AAVE_LENDING_POOL_ADDRESSES).getPriceOracle();        uint fee = MANUAL_SERVICE_FEE;        if (BotRegistry(BOT_REGISTRY_ADDRESS).botList(tx.origin)) {            fee = AUTOMATIC_SERVICE_FEE;        }        if (Discount(DISCOUNT_ADDR).isCustomFeeSet(_user)) {            fee = Discount(DISCOUNT_ADDR).getCustomServiceFee(_user);        }        feeAmount = (fee == 0) ? 0 : (_amount / fee);        if (_gasCost != 0) {            uint256 price = IPriceOracleGetterAave(priceOracleAddress).getAssetPrice(_tokenAddr);            _gasCost = wdiv(_gasCost, price) / (10 ** (18 - _getDecimals(_tokenAddr)));            feeAmount = add(feeAmount, _gasCost);        }        if (feeAmount > (_amount / 5)) {            feeAmount = _amount / 5;        }        address walletAddr = feeRecipient.getFeeAddr();        if (_tokenAddr == ETH_ADDR) {            payable(walletAddr).transfer(feeAmount);        } else {            <mask0>.safeTransfer(walletAddr, feeAmount);        }    }"