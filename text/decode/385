"function isValidSignatureNow(        address signer,        bytes32 hash,        bytes memory signature    ) internal view returns (bool) {        (address recovered, ECDSAUpgradeable.RecoverError error) = ECDSAUpgradeable.tryRecover(hash, signature);        if (error == ECDSAUpgradeable.RecoverError.NoError && recovered == signer) {            return true;        }        (bool success, bytes memory result) = signer.staticcall(            abi.encodeWithSelector(IERC1271Upgradeable.isValidSignature.selector, hash, signature)        );        return (success && result.length == 32 && abi.<mask0> == IERC1271Upgradeable.isValidSignature.selector);    }"