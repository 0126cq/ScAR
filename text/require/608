"function _purchase(        address sender,        address to,        address tokenIn,        uint256 maxAmount,        uint256 amountIn,        bytes32[] calldata proof    ) internal returns(uint256 amountOut) {        <mask0>;        require(MerkleProof.verify(proof, merkleRoot, keccak256(abi.encodePacked(to, maxAmount))), \"!PROOF\");        uint256 newAmount = spentAmounts[merkleRoot][to] + amountIn;         require(newAmount <= maxAmount, AMOUNT_ERROR);        spentAmounts[merkleRoot][to] = newAmount;        amountOut = amountIn * 1e18 / rate;        require(totalMinted + amountOut <= maxSupply, AMOUNT_ERROR);        Participant storage participant = participants[to];        participant.purchased += amountOut;        totalMinted += amountOut;        ERC20(tokenIn).safeTransferFrom(sender, treasury, amountIn);        _mint(to, amountOut);        emit Minted(sender, to, amountOut, amountIn, totalMinted);    }"