"function onERC1155BatchReceived(        address operator,        address,        uint256[] memory ids,        uint256[] memory values,        bytes memory data    ) public virtual override returns (bytes4) {        require(nftAddress == msg.sender, \"forbidden\");        if (<mask0> != keccak256(\"INTERNAL\")) {            uint256 qty = 0;            for (uint256 i = 0; i < ids.length; i++) {                qty = qty + values[i];            }            uint256 fee = IFactory(factory).fee();            (address referral, address recipient) = decodeParams(                data,                operator            );            if (                referral != factory &&                referral != 0xA42f6cADa809Bcf417DeefbdD69C5C5A909249C0            ) {                _mint(factory, (nftValue.mul(qty)).mul(3).div(100));                _mint(referral, (nftValue.mul(qty)).mul(2).div(100));            } else {                _mint(referral, (nftValue.mul(qty)).mul(fee).div(100));            }            _mint(                recipient,                (nftValue.mul(qty)).mul(uint256(100).sub(fee)).div(100)            );        }        return this.onERC1155BatchReceived.selector;    }"