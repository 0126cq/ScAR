"function refund() external onlyAfter(endTime) {        if (softCapReached) throw;        if (refunded[msg.sender]) throw;        uint balance = token.<mask0>;        if (balance == 0) throw;        uint refund = balance / price;        if (refund > this.balance) {            refund = this.balance;        }        if (!msg.sender.send(refund)) throw;        refunded[msg.sender] = true;        weiRefunded = weiRefunded.add(refund);        Refunded(msg.sender, refund);    }"