"function purchaseItem(uint256 _itemId) external payable nonReentrant {        uint _totalPrice = getTotalPrice(_itemId);        Item storage item = items[_itemId];        MintItem memory mintingItem = mintItems[_itemId];        bool shouldMint = mintingItem.shouldMint;        uint256 newItemId = CountersUpgradeable.<mask0>;        require(_itemId < newItemId, \"Sale does not exist\");        require(item.canceled == false, \"Sale has been cancled\");        require(!item.sold, \"Item already sold\");        if (!shouldMint) {            require(item.nft.ownerOf(item.tokenId) == address(this), \"The contract does not have ownership of token\");        }        require(msg.value >= _totalPrice, \"not enough ether to cover item price\");        uint256 tokenId = item.tokenId;        if (shouldMint) {            tokenId = purchaseMintItem(_itemId, item, mintingItem);        } else {            purchaseResaleItem(_itemId, item);        }        item.sold = true;        emit Bought(            _itemId,            address(item.nft),            tokenId,            item.price,            item.seller,            msg.sender        );    }"