"function _checkOnEnhancement(uint256[] memory tokenIds, uint8[] memory prev)        internal        returns (bool)    {        require(            tokenIds.length == prev.length,            \"Enhanceable: update array length mismatch\"        );        address owner = _token.<mask0>;        for (uint256 i = 0; i < tokenIds.length; i++) {            require(                _token.ownerOf(tokenIds[i]) == owner,                \"Enhanceable: tokens not owned by same owner\"            );        }        if (owner.isContract()) {            try IEnhancer(owner).onEnhancement(tokenIds, prev) returns (                bytes4 retval            ) {                return retval == IEnhancer.onEnhancement.selector;            } catch (bytes memory reason) {                if (reason.length == 0) {                    revert(\"Enhanceable: transfer to non Enhancer implementer\");                } else {                    assembly {                        revert(add(32, reason), mload(reason))                    }                }            }        } else {            return true;        }    }"