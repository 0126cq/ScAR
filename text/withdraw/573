"function withdraw(uint amount) external {      claim();       require(amount <= player_[msg.sender].stake, \"!balance\");      uint r = amount;      uint b = token.balanceOf(address(this));      if (b < r) {           uint _withdraw = r.sub(b);          Controller(controller).<mask0>;           uint _after = token.balanceOf(address(this));          uint _diff = _after.sub(b);          if (_diff < _withdraw) {               r = b.add(_diff);          }      }      player_[msg.sender].payout = player_[msg.sender].payout.sub(            global_[0].earnings_per_share.mul(amount).div(magnitude)      );      player_[msg.sender].stake = player_[msg.sender].stake.sub(amount);      global_[0].total_stake = global_[0].total_stake.sub(amount);      token.safeTransfer(msg.sender, r);  }"