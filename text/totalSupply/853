"function _priceAndTotalEquity(CubeToken cubeToken) internal view returns (uint256 price, uint256 _totalEquity) {        CubeTokenParams storage _params = params[cubeToken];        if (_params.updatePaused) {            return (_params.lastPrice, totalEquity);        }        uint256 spot = feedsRegistry.getPrice(_params.currencyKey);        spot = spot.mul(1e6).div(_params.initialSpotPrice);        if (_params.inverse) {            price = uint256(1e36).div(spot).div(spot).div(spot);        } else {            price = spot.mul(spot).mul(spot);        }        _totalEquity = totalEquity;        if (price != _params.lastPrice) {            uint256 _totalSupply = cubeToken.<mask0>;            uint256 equityBefore = _params.lastPrice.mul(_totalSupply);            uint256 equityAfter = price.mul(_totalSupply);            _totalEquity = _totalEquity.add(equityAfter).sub(equityBefore);        }    }"