"function buyTokens(address _beneficiary) public payable onlyCrowdsaleStage {        require(_beneficiary != address(0));        require(isWhitelisted[msg.sender]);        require(validPurchase());        require(msg.value >= rate);          uint256 weiAmount = msg.value;        weiRaised = weiRaised.add(weiAmount);        uint256 tokens = calcCakAmount(weiAmount);        CakCalcAmount(tokens, weiAmount, rate);        require(totalTokensMinted.add(tokens) <= TOKEN_CAP);        token.<mask0>;        totalTokensMinted = totalTokensMinted.add(tokens);        TokenPurchase(msg.sender, _beneficiary, weiAmount, tokens);        uint256 refundAmount = refundLeftOverWei(weiAmount, tokens);        if (refundAmount > 0) {            weiRaised = weiRaised.sub(refundAmount);            msg.sender.transfer(refundAmount);            RefundAmount(msg.sender, refundAmount);        }        forwardEther(refundAmount);    }"