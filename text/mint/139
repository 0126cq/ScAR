"function buyTokens(address beneficiary) payable validPurchase {    \tassert(checkPeriod());        uint256 ethAmount = msg.value;        if(preSaleStarted && !preSaleEnded) {            priceRate = 2000;        }        if(SaleStarted && !SaleEnded) {            if(now >= startICOTimestamp && now <= step1End) {                priceRate = step1Price;            }            else if(now > step1End && now <= step2End) {                priceRate = step2Price;            }            else if(now > step2End && now <= step3End) {                priceRate = step3Price;            }            else {                priceRate = minPriceRate;            }        }        uint256 tokenAmount = ethAmount.mul(priceRate);        tokenAmount = tokenAmount.div(1e10);        ethRaised = ethRaised.add(ethAmount);        <mask0>;        TokenPurchase(msg.sender, beneficiary, ethAmount, tokenAmount);        wallet.transfer(msg.value);        if(preSaleStarted && !preSaleEnded && ethRaised >= ethGoal) {            preSaleEnded = true;            preSaleGoalReached = true;        }    }"