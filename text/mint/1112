"function buyTokens(address beneficiary) public payable {        require(beneficiary != address(0));        require(validPurchase());        bool cleared;        uint16 contributor_get;        address ref;        uint16 affiliate_get;        (cleared,contributor_get,ref,affiliate_get) = kyc.getContributor(beneficiary);        require(cleared);        uint256 weiAmount = msg.value;        uint256 tokens = weiAmount.mul(rate);        uint256 bonus = computeTokenWithBonus(tokens);        uint256 contributorGet = tokens.mul(contributor_get).div(100*100);        tokens = tokens.add(bonus);        tokens = tokens.add(contributorGet);        require((minted().add(tokens)) <= maxTokenSupply);        token.<mask0>;        emit TokenPurchase(msg.sender, beneficiary, weiAmount, tokens, rate, ref, contributorGet);        weiRaised = weiRaised.add(weiAmount);        numberOfPurchasers = numberOfPurchasers + 1;        forwardFunds();        bool refCleared;        (refCleared) = kyc.getClearance(ref);        if (refCleared && ref != beneficiary)        {            tokens = weiAmount.mul(rate);            uint256 affiliateGet = tokens.mul(affiliate_get).div(100*100);            if ( minted().add(affiliateGet) <= maxTokenSupply)            {                token.mint(ref, affiliateGet);                emit TokenPurchaseAffiliate(ref, tokens );            }        }    }"