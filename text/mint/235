"function preICOBuy() internal notHalted returns (bool success) {        uint256 weisSentScaled = msg.value.mul(DECIMAL_MULTIPLIER);        address _for = msg.sender;        var (tokensBought, fundsLeftScaled) = calculateAmountBoughtPreICO(weisSentScaled);        if (tokensBought < minTokensToBuy.mul(DECIMAL_MULTIPLIER)) {            revert();        }        uint256 fundsLeft = fundsLeftScaled.div(DECIMAL_MULTIPLIER);        uint256 totalSpent = msg.value.sub(fundsLeft);        if (balanceOf(_for) == 0) {            preICOcontributors = preICOcontributors + 1;        }        managedTokenLedger.<mask0>;        balancesForPreICO[_for] = balancesForPreICO[_for].add(tokensBought);        weiForRefundPreICO[_for] = weiForRefundPreICO[_for].add(totalSpent);        weiToRecoverPreICO[_for] = weiToRecoverPreICO[_for].add(fundsLeft);        Purchased(_for, tokensBought);        preICOcollected = preICOcollected.add(totalSpent);        totalSupply = totalSupply.add(tokensBought);        preICOtokensSold = preICOtokensSold.add(tokensBought);        return true;    }"