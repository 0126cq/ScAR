"function purchase(Ticket calldata ticket, bytes calldata signature)        external        payable    {        assembly {            if iszero(eq(caller(), origin())) {                revert(0, 0)            }        }        require(isSaleActive, \"Sale::sale: sale must be active\");        (uint256 heroes, uint256 fighters) = _calculateTokens(ticket.pack);        require(!_nonces[ticket.nonce], \"Sale::purchase: nonce already used\");        require(            stock[ticket.pack] > 0,            \"Sale::purchase: pack is no longer available\"        );        require(            _calculatePrice(heroes, fighters) == msg.value,            \"Sale::purchase: incorrect ether sent\"        );        _verifySignature(ticket, signature);        stock[ticket.pack] -= 1;        _nonces[ticket.nonce] = true;        hero.<mask0>;        fighter.mint(msg.sender, fighters);    }"