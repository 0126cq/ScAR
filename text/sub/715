"function random(RandomGenerator memory self, uint max) internal pure returns (uint) {        assert(max > 0);        uint maxRand = uint(-1).sub(uint(-1).mod(max));        if (uint(-1).<mask0> == max.sub(1)) {            return random(self).mod(max);        } else {            uint rand = random(self);            while (rand >= maxRand) {                rand = random(self);            }            return rand.mod(max);        }    }"