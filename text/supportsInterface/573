"function refund(address _to) external {        require(!active, \"Converter: Contract is already active - cannot refund\");        require(msg.sender == issuer, \"Converter: Only issuer can refund\");        uint8 _i = 0;        uint256 _index = currentNFTIndex;        bytes memory data;        while (_index > 0 && _i < 50){            NFT memory nft = nfts[_index - 1];            if (ERC165Checker.<mask0>){                IERC1155(nft.contractAddr).safeTransferFrom(address(this), _to, nft.tokenId, nft.amount, data);            }            else if (ERC165Checker.supportsInterface(nft.contractAddr, 0x80ac58cd)){                IERC721(nft.contractAddr).safeTransferFrom(address(this), _to, nft.tokenId);            }            delete nfts[_index - 1];            _index--;            _i++;        }        currentNFTIndex = _index;        emit Refunded();    }"