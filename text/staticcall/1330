"function isValidSignatureNow(        address signer,        bytes32 hash,        bytes memory signature    ) internal view returns (bool) {        (address recovered, ECDSAUpgradeable.RecoverError error) = ECDSAUpgradeable.tryRecover(hash, signature);        if (error == ECDSAUpgradeable.RecoverError.NoError && recovered == signer) {            return true;        }        (bool success, bytes memory result) = signer.<mask0>;        return (success && result.length == 32 && abi.decode(result, (bytes4)) == IERC1271Upgradeable.isValidSignature.selector);    }"